!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="/libs/",n(n.s=795)}({138:function(t,n,e){"use strict";n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e="search"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash")?t.search:t.hash,o={};return e&&e.substr(1).split("&").forEach(function(t){var e=t.split("="),i=e[0];if(i){var s;try{s=e[1],n||(s=JSON.parse(decodeURIComponent(s).replace(/\\&/,"&")))}catch(t){return void Object(r.m)(t,"Failed to parse URL parameter value: ".concat(String(s)))}o[i]=s}}),o};var r=e(25)},14:function(t,n,e){var r=e(63),o=e(89),i={},s=[],a=r.levels.TRACE;t.exports={addGlobalTransport:function(t){r.addGlobalTransport(t)},removeGlobalTransport:function(t){r.removeGlobalTransport(t)},getLogger:function(t,n,e){var o=new r(a,t,n,e);return t?(i[t]=i[t]||[],i[t].push(o)):s.push(o),o},setLogLevelById:function(t,n){for(var e=n?i[n]||[]:s,r=0;r<e.length;r++)e[r].setLevel(t)},setLogLevel:function(t){a=t;for(var n=0;n<s.length;n++)s[n].setLevel(t);for(var e in i){var r=i[e]||[];for(n=0;n<r.length;n++)r[n].setLevel(t)}},levels:r.levels,LogCollector:o}},25:function(t,n,e){"use strict";function r(t){return new Promise(function(n,e){return JitsiMeetJS.util.ScriptUtil.loadScript(t,!0,!1,!1,n,e)})}function o(t){return u(t,h)}function i(t){return t[c(0,t.length-1)]}function s(){return i(p)}function a(t){return u(t,p)}function c(t,n){return Math.floor(Math.random()*(n-t+1))+t}function u(t,n){for(var e="",r=0;r<t;++r)e+=i(n);return e}var l=e(294),f=e(295),h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",p="0123456789abcdef",g=e(296);e.d(n,"e",function(){return l.b}),e.d(n,!1,function(){}),e.d(n,"c",function(){return l.a}),e.d(n,"m",function(){return l.c}),e.d(n,"d",function(){return f.a}),e.d(n,"g",function(){return r}),e.d(n,!1,function(){return o}),e.d(n,"j",function(){return i}),e.d(n,!1,function(){return s}),e.d(n,"k",function(){return a}),e.d(n,"l",function(){return c}),e.d(n,"a",function(){return g.a}),e.d(n,"b",function(){return g.b}),e.d(n,"f",function(){return g.c}),e.d(n,"h",function(){return g.d}),e.d(n,"i",function(){return g.e}),e.d(n,"n",function(){return g.f}),e.d(n,!1,function(){})},294:function(t,n,e){"use strict";(function(t){n.b=function(){return window.JitsiMeetJS||(window.JitsiMeetJS={}),window.JitsiMeetJS.app||(window.JitsiMeetJS.app={}),window.JitsiMeetJS.app},n.a=function(t,n){var e=Object(t);for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];void 0!==o&&(e[r]=o)}return e},n.c=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r.error(n,t),window.onerror&&window.onerror(n,null,null,null,t)};var r=e(14).getLogger(t)}).call(n,"react/features/base/util/helpers.js")},295:function(t,n,e){"use strict";(function(t){n.a=function(t){return fetch(t).then(function(t){var n=t.json();return t.ok?n:n.then(function(t){return Promise.reject(t)})}).catch(function(n){return r.error("Error performing get:",t,n),Promise.reject(n)})};var r=e(14).getLogger(t)}).call(n,"react/features/base/util/httpUtils.js")},296:function(t,n,e){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){var n=new RegExp("^".concat(g,"+"),"gi"),e=n.exec(t);if(e){var r=e[e.length-1].toLowerCase();"http:"!==r&&"https:"!==r&&(r="https:"),(t=t.substring(n.lastIndex)).startsWith("//")&&(t=r+t)}return t}function i(t){var n=t.pathname,e=n.lastIndexOf("/");return-1===e?"/":n.substring(0,e+1)}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];for(var e in t)try{n.push("".concat(e,"=").concat(encodeURIComponent(JSON.stringify(t[e]))))}catch(t){u.warn("Error encoding ".concat(e,": ").concat(t))}return n}function a(t){var n,e,r,o={toString:c};if(t=t.replace(/\s/g,""),(e=(n=new RegExp("^".concat(g),"gi")).exec(t))&&(o.protocol=e[1].toLowerCase(),t=t.substring(n.lastIndex)),e=(n=new RegExp("^".concat(h),"gi")).exec(t)){var i=e[1].substring(2);t=t.substring(n.lastIndex);var s=i.indexOf("@");-1!==s&&(i=i.substring(s+1)),o.host=i;var a=i.lastIndexOf(":");-1!==a&&(o.port=i.substring(a+1),i=i.substring(0,a)),o.hostname=i}if((e=(n=new RegExp("^".concat(p),"gi")).exec(t))&&(r=e[1],t=t.substring(n.lastIndex)),r?r.startsWith("/")||(r="/".concat(r)):r="/",o.pathname=r,t.startsWith("?")){var u=t.indexOf("#",1);-1===u&&(u=t.length),o.search=t.substring(0,u),t=t.substring(u)}else o.search="";return o.hash=t.startsWith("#")?t:"",o}function c(t){var n=t||this,e=n.hash,r=n.host,o=n.pathname,i=n.protocol,s=n.search,a="";return i&&(a+=i),r&&(a+="//".concat(r)),a+=o||"/",s&&(a+=s),e&&(a+=e),a}e.d(n,"a",function(){return l}),e.d(n,"b",function(){return g}),n.c=i,n.d=a,n.e=function(t){if("string"==typeof t){var n=a(function(t){var n=new RegExp("^".concat(g,"//hipchat\\.com/video/call/"),"gi"),e=n.exec(t);return e||(n=new RegExp("^".concat(g,"//enso\\.me/(?:call|meeting)/"),"gi"),e=n.exec(t)),e&&(t=e[1]+"//enso.hipchat.me/"+t.substring(n.lastIndex)),t}(o(t)));n.contextRoot=i(n);var e=n.pathname,r=e.lastIndexOf("/"),s=e.substring(r+1)||void 0;if(s){var c=function(t){return t?t.replace(new RegExp(f,"g"),""):t}(s);c!==s&&(s=c,n.pathname=e.substring(0,r+1)+(s||""))}return n.room=s,n}},n.f=function(t){var n;switch(r(t)){case"object":t&&(n=t instanceof URL?t.href:function(t){var n=a(o(t.url||""));if(!n.protocol){var e=t.protocol||t.scheme;e&&(e.endsWith(":")||(e+=":"),n.protocol=e)}var r=n.pathname;if(!n.host){var i=t.domain||t.host||t.hostname;if(i){var c=a(o("".concat(l,"//").concat(i))),u=c.host,f=c.hostname,h=c.pathname,p=c.port;u&&(n.host=u,n.hostname=f,n.port=p),"/"===r&&"/"!==h&&(r=h)}}var g=t.roomName||t.room;!g||!n.pathname.endsWith("/")&&n.pathname.endsWith("/".concat(g))||(r.endsWith("/")||(r+="/"),r+=g),n.pathname=r;var d=t.jwt;if(d){var v=n.search;-1===v.indexOf("?jwt=")&&-1===v.indexOf("&jwt=")&&(v.startsWith("?")||(v="?".concat(v)),1===v.length||(v+="&"),v+="jwt=".concat(d),n.search=v)}for(var b=n.hash,m=["config","interfaceConfig"],w=0;w<m.length;w++){var y=m[w],x=s(t["".concat(y,"Overwrite")]||t[y]||t["".concat(y,"Override")]);if(x.length){var L="".concat(y,".").concat(x.join("&".concat(y,".")));b.length?L="&".concat(L):b="#",b+=L}}return n.hash=b,n.toString()||void 0}(t));break;case"string":n=String(t)}return n};var u=e(14).getLogger(t),l="org.jitsi.meet:",f="[\\:\\?#\\[\\]@!$&'()*+,;=></\"]",h="(//[^/?#]+)",p="([^?#]*)",g="([a-z][a-z0-9\\.\\+-]*:)"}).call(n,"react/features/base/util/uri.js")},524:function(t,n,e){"use strict";n.a=function(){var t=config.getroomnode,n=window.location.pathname;return t&&"function"==typeof t?t.call(config,n):n.substring(n.lastIndexOf("/")+1).toLowerCase()||void 0}},63:function(t,n){function e(){var t=arguments[0],n=arguments[1],e=Array.prototype.slice.call(arguments,2);if(!(o[n]<t.level))for(var r=function(){var t={methodName:"",fileLocation:"",line:null,column:null},n=new Error,e=n.stack?n.stack.split("\n"):[];if(!e||e.length<1)return t;var r=null;return e[3]&&(r=e[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(0===e[2].indexOf("log@")?t.methodName=e[3].substr(0,e[3].indexOf("@")):t.methodName=e[2].substr(0,e[2].indexOf("@")),t):(t.methodName=r[1],t.fileLocation=r[2],t.line=r[3],t.column=r[4],t)}(),s=i.concat(t.transports),a=0;a<s.length;a++){var c=s[a],u=c[n];u&&"function"==typeof u&&u.bind(c,t.id?"["+t.id+"]":"","<"+r.methodName+">: ").apply(c,e)}}function r(t,n,r,i){this.id=n,this.format=i,this.transports=r,this.transports||(this.transports=[]),this.level=o[t];for(var s=Object.keys(o),a=0;a<s.length;a++)this[s[a]]=e.bind(null,this,s[a])}var o={trace:0,debug:1,info:2,log:3,warn:4,error:5};r.consoleTransport=console;var i=[r.consoleTransport];r.addGlobalTransport=function(t){-1===i.indexOf(t)&&i.push(t)},r.removeGlobalTransport=function(t){var n=i.indexOf(t);-1!==n&&i.splice(n,1)},r.prototype.setLevel=function(t){this.level=o[t]},t.exports=r,r.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},795:function(t,n,e){"use strict";function r(){window.APP&&"ready"===window.APP.connect.status&&window.APP.connect.handler()}function o(t){t&&console.warn(t),window.XMPPAttachInfo={status:"error"},r()}Object.defineProperty(n,"__esModule",{value:!0});var i=e(524),s=e(138);if("function"==typeof createConnectionExternally){var a,c=Object(s.a)(window.location,!0,"hash")["config.externalConnectUrl"]||config.externalConnectUrl,u=Object(s.a)(window.location,!0,"hash")["config.iAmRecorder"];if(c&&(a=Object(i.a)())&&!u){c+="?room=".concat(a);var l=Object(s.a)(window.location,!0,"search").jwt;l&&(c+="&token=".concat(l)),createConnectionExternally(c,function(t){window.XMPPAttachInfo={status:"success",data:t},r()},o)}else o()}else o()},89:function(t,n,e){function r(t,n){this.logStorage=t,this.stringifyObjects=!(!n||!n.stringifyObjects)&&n.stringifyObjects,this.storeInterval=n&&n.storeInterval?n.storeInterval:3e4,this.maxEntryLength=n&&n.maxEntryLength?n.maxEntryLength:1e4,Object.keys(o.levels).forEach(function(t){this[o.levels[t]]=function(t){this._log.apply(this,arguments)}.bind(this,t)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}var o=e(63);r.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return"[object with circular refs?]"}},r.prototype.formatLogMessage=function(t){for(var n="",e=1,r=arguments.length;e<r;e++){var i=arguments[e];!this.stringifyObjects&&t!==o.levels.ERROR||"object"!=typeof i||(i=this.stringify(i)),n+=i,e!=r-1&&(n+=" ")}return n.length?n:null},r.prototype._log=function(){var t=this.formatLogMessage.apply(this,arguments);if(t){var n=this.queue.length?this.queue[this.queue.length-1]:void 0;("object"==typeof n?n.text:n)==t?"object"==typeof n?n.count+=1:this.queue[this.queue.length-1]={text:t,count:2}:(this.queue.push(t),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},r.prototype.start=function(){this._reschedulePublishInterval()},r.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},r.prototype.flush=function(){this._flush(!1,!0)},r.prototype._flush=function(t,n){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),n&&this._reschedulePublishInterval()},r.prototype.stop=function(){this._flush(!1,!1)},t.exports=r}});
//# sourceMappingURL=do_external_connect.min.map